dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
    implementation 'org.projectlombok:lombok:1.18.16'
    annotationProcessor 'org.projectlombok:lombok:1.18.16'
    implementation 'com.amazonaws:aws-java-sdk-s3:1.11.914'
    implementation 'com.google.code.gson:gson:2.8.6'
    testImplementation 'org.mockito:mockito-core:2.7.22'
}

test {
    useJUnitPlatform()
}

group 'com.github.scality'
version '0.0.1-SNAPSHOT'
//task sourceJar(type: Jar) {
//    classifier "sources"
//    from sourceSets.main.allJava
//}
//task javadocJar(type: Jar, dependsOn: javadoc) {
//    classifier "javadoc"
//    from javadoc.destinationDir
//}
artifacts {
    archives jar
//    archives sourceJar
//    archives javadocJar
}
publishing {
    publications {
        mavenJava(MavenPublication) {
//            customizePom(pom)
            groupId 'com.github.scality'
            artifactId 'vaultclient'
            version '0.0.1-SNAPSHOT'

            from components.java

//            artifact(sourceJar) {
//                classifier = 'sources'
//            }
//            artifact(javadocJar) {
//                classifier = 'javadoc'
//            }
        }
    }

    repositories {
        mavenLocal()
//        mavenCentral()
//        jcenter()
//        maven {
//            url = 'https://repo.maven.apache.org/maven2'
//        }
    }
}

apply plugin: 'com.bmuschko.nexus'

nexus {
    sign = true
    repositoryUrl = 'https://oss.sonatype.org/service/local/staging/deploy/maven2/'
    snapshotRepositoryUrl = 'https://oss.sonatype.org/content/repositories/snapshots/'
//    username = ossrhUser
//    password = ossrhPassword
}

extraArchive {
    sources = true
    tests = true
    javadoc = true
}

jar.enabled(true)